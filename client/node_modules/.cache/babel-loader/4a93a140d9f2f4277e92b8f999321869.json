{"ast":null,"code":"var _jsxFileName = \"/Users/scottwattenbarger/Desktop/Projects/ecommerce/client/src/components/ProductItem/index.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport './productItem.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProductItem(item) {\n  _s();\n  const [itemAdded, setItemAdded] = useState(false);\n  const [state, dispatch] = useStoreContext();\n  const {\n    image,\n    name,\n    _id,\n    price,\n    quantity\n  } = item;\n  const {\n    cart\n  } = state;\n  function showAddedMessage() {\n    setItemAdded(true);\n    setTimeout(() => {\n      setItemAdded(false);\n    }, 3000); // hide message after 3 seconds\n  }\n\n  const addToCart = () => {\n    const itemInCart = cart.find(cartItem => cartItem._id === _id);\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: {\n          ...item,\n          purchaseQuantity: 1\n        }\n      });\n      idbPromise('cart', 'put', {\n        ...item,\n        purchaseQuantity: 1\n      });\n    }\n    showAddedMessage();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card px-1 py-1\",\n    children: [itemAdded && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"item-added-message\",\n      children: \"Item added to cart!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/products/${_id}`,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        alt: name,\n        src: `/images/${image}`,\n        className: \"productImage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [quantity, \" \", pluralize(\"item\", quantity), \" in stock\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"$\", price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"productButton\",\n      onClick: addToCart,\n      children: \"Add to cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductItem, \"7q1Vl4tholhdS36n9EUI6ZP9wE8=\", false, function () {\n  return [useStoreContext];\n});\n_c = ProductItem;\nexport default ProductItem;\nvar _c;\n$RefreshReg$(_c, \"ProductItem\");","map":{"version":3,"names":["React","useState","Link","pluralize","useStoreContext","ADD_TO_CART","UPDATE_CART_QUANTITY","idbPromise","jsxDEV","_jsxDEV","ProductItem","item","_s","itemAdded","setItemAdded","state","dispatch","image","name","_id","price","quantity","cart","showAddedMessage","setTimeout","addToCart","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","product","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","alt","src","onClick","_c","$RefreshReg$"],"sources":["/Users/scottwattenbarger/Desktop/Projects/ecommerce/client/src/components/ProductItem/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\"\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport './productItem.css';\n\nfunction ProductItem(item) {\n  const [itemAdded, setItemAdded] = useState(false);\n  const [state, dispatch] = useStoreContext();\n\n  const {\n    image,\n    name,\n    _id,\n    price,\n    quantity\n  } = item;\n\n  const { cart } = state\n\n  function showAddedMessage() {\n    setItemAdded(true);\n    setTimeout(() => {\n      setItemAdded(false);\n    }, 3000); // hide message after 3 seconds\n  }\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...item, purchaseQuantity: 1 }\n      });\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\n    }\n    showAddedMessage(); \n  }\n\n  return (\n    <div className=\"card px-1 py-1\">\n       {itemAdded && (\n      <div className=\"item-added-message\">\n        Item added to cart!\n      </div>\n    )}\n      <Link to={`/products/${_id}`}>\n        <img\n          alt={name}\n          src={`/images/${image}`}\n          className='productImage'\n        />\n        <p>{name}</p>\n      </Link>\n      <div>\n        <div>{quantity} {pluralize(\"item\", quantity)} in stock</div>\n        <span>${price}</span>\n      </div>\n      <button className=\"productButton\" onClick={addToCart}>Add to cart</button>\n    </div>\n  );\n}\n\nexport default ProductItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}