{"ast":null,"code":"import _objectSpread from\"/Users/scottwattenbarger/Desktop/Projects/ecommerce/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/scottwattenbarger/Desktop/Projects/ecommerce/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Link}from\"react-router-dom\";import{pluralize}from\"../../utils/helpers\";import{useStoreContext}from\"../../utils/GlobalState\";import{ADD_TO_CART,UPDATE_CART_QUANTITY}from\"../../utils/actions\";import{idbPromise}from\"../../utils/helpers\";import\"./CarouselProductItem.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CarouselProductItem(item){var _useStoreContext=useStoreContext(),_useStoreContext2=_slicedToArray(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var image=item.image,name=item.name,_id=item._id,price=item.price,quantity=item.quantity;var cart=state.cart;var linkStyle={cursor:\"pointer\"};var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===_id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:_id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',_objectSpread(_objectSpread({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:_objectSpread(_objectSpread({},item),{},{purchaseQuantity:1})});idbPromise('cart','put',_objectSpread(_objectSpread({},item),{},{purchaseQuantity:1}));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"carouselProductItem\",children:[/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item._id),children:/*#__PURE__*/_jsx(\"img\",{alt:item.name,src:\"/images/\".concat(item.image),className:\"carouselProductItemImage\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"carouselProductItemInfo\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.name}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:addToCart,children:[\"$\",item.price]})]})]});}export default CarouselProductItem;","map":{"version":3,"names":["React","Link","pluralize","useStoreContext","ADD_TO_CART","UPDATE_CART_QUANTITY","idbPromise","jsx","_jsx","jsxs","_jsxs","CarouselProductItem","item","_useStoreContext","_useStoreContext2","_slicedToArray","state","dispatch","image","name","_id","price","quantity","cart","linkStyle","cursor","addToCart","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","_objectSpread","product","className","children","to","concat","alt","src","description","onClick"],"sources":["/Users/scottwattenbarger/Desktop/Projects/ecommerce/client/src/components/CarouselProductItem/index.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\";\nimport { useStoreContext } from \"../../utils/GlobalState\";\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\nimport { idbPromise } from \"../../utils/helpers\";\nimport \"./CarouselProductItem.css\"\n\nfunction CarouselProductItem(item) {\n  const [state, dispatch] = useStoreContext();\n\n  const { image, name, _id, price, quantity } = item;\n  const { cart } = state;\n\n  const linkStyle = {\n    cursor: \"pointer\",\n  };\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...item, purchaseQuantity: 1 }\n      });\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\n    }  };\n\n  return (\n    <div className=\"carouselProductItem\">\n      <Link to={`/products/${item._id}`}>\n        <img\n          alt={item.name}\n          src={`/images/${item.image}`}\n          className=\"carouselProductItemImage\"\n        />\n      </Link>\n      <div className=\"carouselProductItemInfo\">\n        <h3>{item.name}</h3>\n        <p>{item.description}</p>\n        <button className=\"btn btn-primary\" onClick={addToCart}>\n          ${item.price}\n        </button>\n\n      </div>\n    </div>\n  );\n}\n\nexport default CarouselProductItem;\n"],"mappings":"+RAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,SAAS,KAAQ,qBAAqB,CAC/C,OAASC,eAAe,KAAQ,yBAAyB,CACzD,OAASC,WAAW,CAAEC,oBAAoB,KAAQ,qBAAqB,CACvE,OAASC,UAAU,KAAQ,qBAAqB,CAChD,MAAO,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,QAAS,CAAAC,mBAAmBA,CAACC,IAAI,CAAE,CACjC,IAAAC,gBAAA,CAA0BV,eAAe,EAAE,CAAAW,iBAAA,CAAAC,cAAA,CAAAF,gBAAA,IAApCG,KAAK,CAAAF,iBAAA,IAAEG,QAAQ,CAAAH,iBAAA,IAEtB,GAAQ,CAAAI,KAAK,CAAiCN,IAAI,CAA1CM,KAAK,CAAEC,IAAI,CAA2BP,IAAI,CAAnCO,IAAI,CAAEC,GAAG,CAAsBR,IAAI,CAA7BQ,GAAG,CAAEC,KAAK,CAAeT,IAAI,CAAxBS,KAAK,CAAEC,QAAQ,CAAKV,IAAI,CAAjBU,QAAQ,CACzC,GAAQ,CAAAC,IAAI,CAAKP,KAAK,CAAdO,IAAI,CAEZ,GAAM,CAAAC,SAAS,CAAG,CAChBC,MAAM,CAAE,SACV,CAAC,CAED,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,GAAM,CAAAC,UAAU,CAAGJ,IAAI,CAACK,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACT,GAAG,GAAKA,GAAG,GAAC,CAChE,GAAIO,UAAU,CAAE,CACdV,QAAQ,CAAC,CACPa,IAAI,CAAEzB,oBAAoB,CAC1Be,GAAG,CAAEA,GAAG,CACRW,gBAAgB,CAAEC,QAAQ,CAACL,UAAU,CAACI,gBAAgB,CAAC,CAAG,CAC5D,CAAC,CAAC,CACFzB,UAAU,CAAC,MAAM,CAAE,KAAK,CAAA2B,aAAA,CAAAA,aAAA,IACnBN,UAAU,MACbI,gBAAgB,CAAEC,QAAQ,CAACL,UAAU,CAACI,gBAAgB,CAAC,CAAG,CAAC,GAC3D,CACJ,CAAC,IAAM,CACLd,QAAQ,CAAC,CACPa,IAAI,CAAE1B,WAAW,CACjB8B,OAAO,CAAAD,aAAA,CAAAA,aAAA,IAAOrB,IAAI,MAAEmB,gBAAgB,CAAE,CAAC,EACzC,CAAC,CAAC,CACFzB,UAAU,CAAC,MAAM,CAAE,KAAK,CAAA2B,aAAA,CAAAA,aAAA,IAAOrB,IAAI,MAAEmB,gBAAgB,CAAE,CAAC,GAAG,CAC7D,CAAG,CAAC,CAEN,mBACErB,KAAA,QAAKyB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC5B,IAAA,CAACP,IAAI,EAACoC,EAAE,cAAAC,MAAA,CAAe1B,IAAI,CAACQ,GAAG,CAAG,CAAAgB,QAAA,cAChC5B,IAAA,QACE+B,GAAG,CAAE3B,IAAI,CAACO,IAAK,CACfqB,GAAG,YAAAF,MAAA,CAAa1B,IAAI,CAACM,KAAK,CAAG,CAC7BiB,SAAS,CAAC,0BAA0B,EACpC,EACG,cACPzB,KAAA,QAAKyB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC5B,IAAA,OAAA4B,QAAA,CAAKxB,IAAI,CAACO,IAAI,EAAM,cACpBX,IAAA,MAAA4B,QAAA,CAAIxB,IAAI,CAAC6B,WAAW,EAAK,cACzB/B,KAAA,WAAQyB,SAAS,CAAC,iBAAiB,CAACO,OAAO,CAAEhB,SAAU,CAAAU,QAAA,EAAC,GACrD,CAACxB,IAAI,CAACS,KAAK,GACL,GAEL,GACF,CAEV,CAEA,cAAe,CAAAV,mBAAmB"},"metadata":{},"sourceType":"module"}